{% extends 'base.html' %}
{% block title %}新增图书{% endblock %}
{% block content %}
<div class="page-header">
  <h2>新增图书</h2>
  <div class="header-actions">
    <a class="btn btn-default" href="{{ url_for('books.list_books') }}">返回列表</a>
  </div>
</div>
<form method="post" action="{{ url_for('books.create_book') }}" class="form-horizontal">
  <div class="form-group">
    <label class="col-sm-2 control-label">名称</label>
    <div class="col-sm-6">
      <input type="text" name="name" class="form-control" required>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">ISBN</label>
    <div class="col-sm-6">
      <input type="text" name="isbn" class="form-control" required>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">索书码</label>
    <div class="col-sm-6">
      <input type="text" name="call_number" class="form-control">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">分类</label>
    <div class="col-sm-6">
      <select name="category_id" class="form-control">
        <option value="">未分类</option>
        {% for item in category_options %}
        {% set option = item.category %}
        {% set indent = '&nbsp;&nbsp;&nbsp;&nbsp;' * item.depth %}
        {% set prefix = '└ ' if item.depth > 0 else '' %}
        <option value="{{ option.id }}">{{ indent|safe }}{{ prefix }}{{ option.name }}</option>
        {% endfor %}
      </select>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">总数量</label>
    <div class="col-sm-6">
      <input type="number" name="amount" class="form-control" value="1" min="1" required>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">位置</label>
    <div class="col-sm-6">
      <input type="text" name="position" class="form-control">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">作者</label>
    <div class="col-sm-6">
      <input type="text" name="author" class="form-control">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">出版社</label>
    <div class="col-sm-6">
      <input type="text" name="publisher" class="form-control">
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-6">
      <button type="submit" class="btn btn-primary">保存</button>
    </div>
  </div>
</form>
{% endblock %}
