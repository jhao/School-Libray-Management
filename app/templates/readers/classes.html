{% extends 'base.html' %}
{% block title %}班级管理{% endblock %}
{% block content %}
<div class="row">
  <div class="col-sm-5 col-md-4">
    <h4>新增班级</h4>
    <form method="post">
      <div class="form-group">
        <label>名称</label>
        <input type="text" name="name" class="form-control" required>
      </div>
      <div class="form-group">
        <label>所属年级</label>
        <select name="grade_id" class="form-control" required>
          <option value="">请选择</option>
          {% for grade in grades %}
          <option value="{{ grade.id }}">{{ grade.name }}</option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" class="btn btn-primary btn-block">保存</button>
    </form>
  </div>
  <div class="col-sm-7 col-md-8">
    <table class="table table-striped table-condensed table-hover">
      <thead>
        <tr>
          <th>班级名称</th>
          <th>所属年级</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        {% for klass in classes %}
        <tr>
          <td>{{ klass.name }}</td>
          <td>{{ klass.grade.name if klass.grade else '' }}</td>
          <td>
            <form method="post" action="{{ url_for('readers.delete_class', class_id=klass.id) }}" onsubmit="return confirm('确认删除?');">
              <button type="submit" class="btn btn-xs btn-danger">删除</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
